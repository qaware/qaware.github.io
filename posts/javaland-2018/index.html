<!doctype html><html lang=en><head><title>JavaLand 2018 - QAware | Software Engineering Blog</title>
<meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=yes'><meta http-equiv=X-UA-Compatible content='IE=edge'><meta name=description content='Our highlights of JavaLand 2018'><meta property='og:locale' content='en_US'><meta property='og:type' content='article'><meta property='og:title' content='JavaLand 2018'><meta property='og:description' content='Our highlights of JavaLand 2018'><meta property='og:url' content='https://blog.qaware.de/posts/javaland-2018/'><meta property='og:image' content='https://blog.qaware.de/images/images/qaware_logo.png'><meta name=msapplication-TileColor content='#da532c'><meta name=theme-color content='#ffffff'><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json crossorigin=use-credentials><link rel=icon href=/QAware_Logo_Icon_RGB_Petrol.svg type=image/svg+xml><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://blog.qaware.de/posts/javaland-2018/><link rel=stylesheet href=https://blog.qaware.de/css/main.f210fa2882010d9f688c05dc3107f23bd9a95efa7a2a87e4024d0afbef4b93a346598e97380da3c9809d24ad136fdc4909cffe6f586c4f32a497e73f23b40e1a.css integrity='sha512-8hD6KIIBDZ9ojAXcMQfyO9mpXvp6KofkAk0K++9Lk6NGWY6XOA2jyYCdJK0Tb9xJCc/+b1hsTzKkl+c/I7QOGg==' title=templateStyle><script id=Cookiebot src=https://consent.cookiebot.com/uc.js data-cbid=4e938949-aa56-465e-9c2a-175bb6c31d81 data-blockingmode=auto type=text/javascript></script></head><body><header><div id=main-header><a href=/ id=main-header-logo><img src=/images/icons/logo_qaware.svg alt=QAware id=main-header-logo-img></a><div id=main-header-nav-items-container><nav id=main-nav><ul class=main-nav-menu><li class=main-nav-menu><a href=https://blog.qaware.de/ class="main-nav-menu nav-item">Posts</a><ul class=main-nav-sub-menu><li class=main-nav-sub-menu><a href=https://blog.qaware.de/tags/ class="main-nav-sub-menu nav-item">Tags</a></li><li class=main-nav-sub-menu><a href=https://blog.qaware.de/posts/ class="main-nav-sub-menu nav-item">Archive</a></li></ul></li><li class=main-nav-menu><a href=https://blog.qaware.de/ class="main-nav-menu nav-item">Resources</a><ul class=main-nav-sub-menu><li class=main-nav-sub-menu><a href=https://www.github.com/qaware class=main-nav-sub-menu>GitHub</a></li><li class=main-nav-sub-menu><a href=https://de.slideshare.net/QAware class=main-nav-sub-menu>SlideShare</a></li><li class=main-nav-sub-menu><a href=https://www.youtube.com/user/QAwareGmbH class=main-nav-sub-menu>YouTube</a></li><li class=main-nav-sub-menu><a href=https://www.meetup.com/de-DE/cloud-native-muc/ class=main-nav-sub-menu>Meetup Munich</a></li><li class=main-nav-sub-menu><a href=https://www.meetup.com/de-DE/Cloud-Native-Night class=main-nav-sub-menu>Meetup Mainz</a></li><li class=main-nav-sub-menu><a href=https://www.meetup.com/codineers-meetup/ class=main-nav-sub-menu>Codineers Meetup Rosenheim</a></li><li class=main-nav-sub-menu><a href=https://www.meetup.com/green-software-development-munich class=main-nav-sub-menu>Green Software Development Munich</a></li></ul></li><li class=main-nav-menu><a href=https://www.qaware.de class=main-nav-menu>Company</a><ul class=main-nav-sub-menu><li class=main-nav-sub-menu><a href=https://www.qaware.de class=main-nav-sub-menu>Website</a></li><li class=main-nav-sub-menu><a href=https://twitter.com/qaware class=main-nav-sub-menu>Twitter</a></li><li class=main-nav-sub-menu><a href=http://www.linkedin.com/company/qaware-gmbh class=main-nav-sub-menu>Linkedin</a></li><li class=main-nav-sub-menu><a href=http://www.xing.com/companies/qawaregmbh class=main-nav-sub-menu>Xing</a></li><li class=main-nav-sub-menu><a href=http://www.kununu.com/qaware class=main-nav-sub-menu>Kununu</a></li></ul></li><li class=main-nav-menu><a href=https://www.qaware.de/kontakt class=main-nav-menu>Contact</a></li></ul></nav><a id=mobile-nav-icon-link href=#><div id=mobile-nav-icon></div></a></div></div><div id=mobile-nav-dropdown><nav id=mobile-nav class="mobile-nav collapsed"><ul><li><a href=https://blog.qaware.de/ class=nav-item>Posts</a><ul><li><a href=https://blog.qaware.de/tags/ class=nav-item>Tags</a></li><li><a href=https://blog.qaware.de/posts/ class=nav-item>Archive</a></li></ul></li><li><a href=https://blog.qaware.de/ class=nav-item>Resources</a><ul><li><a href=https://www.github.com/qaware>GitHub</a></li><li><a href=https://de.slideshare.net/QAware>SlideShare</a></li><li><a href=https://www.youtube.com/user/QAwareGmbH>YouTube</a></li><li><a href=https://www.meetup.com/de-DE/cloud-native-muc/>Meetup Munich</a></li><li><a href=https://www.meetup.com/de-DE/Cloud-Native-Night>Meetup Mainz</a></li><li><a href=https://www.meetup.com/codineers-meetup/>Codineers Meetup Rosenheim</a></li><li><a href=https://www.meetup.com/green-software-development-munich>Green Software Development Munich</a></li></ul></li><li><a href=https://www.qaware.de class=nav-item>Company</a><ul><li><a href=https://www.qaware.de>Website</a></li><li><a href=https://twitter.com/qaware>Twitter</a></li><li><a href=http://www.linkedin.com/company/qaware-gmbh>Linkedin</a></li><li><a href=http://www.xing.com/companies/qawaregmbh>Xing</a></li><li><a href=http://www.kununu.com/qaware>Kununu</a></li></ul></li><li><a href=https://www.qaware.de/kontakt class=nav-item>Contact</a></li></ul></nav></div></header><main><div class='wrap mt-4 post'><div><p class='post_date pale'>27. April 2018</p><h1 class=post_title>JavaLand 2018</h1><p class=pale>1791 words | ~9 min read</p><p><a class=post_tag href=/tags/conference/>conference</a>
<a class=post_tag href=/tags/rest/>rest</a>
<a class=post_tag href=/tags/security/>security</a>
<a class=post_tag href=/tags/legacy/>legacy</a>
<a class=post_tag href=/tags/jupyter-notebooks/>jupyter notebooks</a>
<a class=post_tag href=/tags/java/>java</a>
<a class=post_tag href=/tags/java-10/>java 10</a>
<a class=post_tag href=/tags/valhalla/>valhalla</a>
<a class=post_tag href=/tags/pattern-matching/>pattern matching</a>
<a class=post_tag href=/tags/testing/>testing</a>
<a class=post_tag href=/tags/regression-testing/>regression testing</a></p><div class=post_body><div class=post_inner><p>JavaLand is a Java-focused conference which takes place in the theme park Phantasialand close to Cologne. Every year Java developers from all over the country visit exciting talks to expand their knowledge.</p><p>We were one of the exhibitors and presented our portable cloud showcase which lets you control OpenShift using a DJ pad. Besides, we held the talks <a href=https://www.slideshare.net/QAware/a-hitchhikers-guide-to-cloud-native-java-ee-90509212>A Hitchhiker&rsquo;s Guide to Cloud Native Java EE</a> and <a href=https://www.slideshare.net/QAware/docker-und-kubernetes-patters-antipatterns>Docker und Kubernetes Patterns & Anti-Patterns</a> and visited some others. These were our highlights of JavaLand 2018:</p><h2 id=deconstructing-and-evolving-rest-security>Deconstructing and Evolving REST Security</h2><ul><li><a href=https://programm.javaland.eu/2018/#/scheduledEvent/549020>Talk</a></li><li><a href=https://www.slideshare.net/dblevins1/2018-javaland-deconstructing-and-evolving-rest-security>Slides</a></li></ul><p>The talk summarizes descriptive the advantages and disadvantages of OAuth 2.0, how it compares to Basic Auth and JWT and some hints for the future.</p><p>A major problem of Basic Auth is that credentials are sent unencrypted within the HTTP header. With many requests, credentials will repeatedly appear within the transmitted data, making it easier to catch them in one of those requests. OAuth 2.0 reduces this threat by generating new passwords (tokens) regularly. That is basically the only difference to Basic Auth.</p><p>Often, it is also required to know who has been authenticated. For example, to give a user access to certain resources only. When using passwords or tokens, this additional information has to be retrieved through a backend call, for example through a LDAP server. An attacker could put lots of load to this backend easily by firing many requests with invalid passwords.</p><p>JWT is one possible solution to the aforementioned problem. This token can contain information about the user (like access roles) and thus avoids an additional call to a backend. The signature of this token guaranties that no data has been modified. Additionally, services can verify the signature locally without calling a backend. Attackers will thus be rejected early.</p><p>A similar approach is used with HTTP signatures (IETF draft). There, relevant parts of the HTTP request will be signed. A token is not required and the request can be verified locally. There is no information of the user, though.</p><p>A promising approach for the future is <a href=https://tools.ietf.org/html/draft-ietf-oauth-pop-key-distribution-03>OAuth 2.0 Proof-of-Possession</a>. The OAuth grant will return a signed JWT with identity information and a key for signing requests on the client. The client will sign the whole request and include the JWT. The backend can verify the request locally and has access to the identity information. No backend calls are necessary.</p><h2 id=analyze-legacy-applications-and-show-development-problems>Analyze (legacy) applications and show development problems</h2><ul><li><a href=https://programm.javaland.eu/2018/#/scheduledEvent/549265>Talk</a></li><li><a href=https://www.javaland.eu/formes/pubfiles/9955104/2018-nn-markus_harrer-mit_datenanalysen_probleme_in_der_entwicklung_aufzeigen-praesentation.pdf>Slides</a></li></ul><p>Have you had problems during development you can&rsquo;t fix correctly because there is no budget / time for it? Do you think there really is no time or budget? Or are it just your &lsquo;wonderful designed UI&rsquo; and the pink glasses of your project manager?</p><p>The JavaLand talk of &rsquo;legacy code lover&rsquo; @Feststelltaste tries to give an overview what he is doing and why all project managers are dancing to his tune. From his point of view the main problem is that most development problems are not visible from the outside. There are rule based code analysis tools like SonarQube which answer frequent, common, small technical faults and can give a hint according the software quality. But they do not really help the project manager to understand or see diverse problems.</p><p>Also there is no correlation between risk and frequency of a fault and no statement about the impact of a fault.</p><p>Clearly SonarQube is good and needed, but it&rsquo;s not enough for a more specific visual code view. It also does not provide any statement about the quality of the &lsquo;subject-specific&rsquo; code and does not prevent from oversleeping upcoming problems.</p><p><em>We need another approach to convince our project manager!</em></p><h2 id=the-jupyter-and-einstein-scientific-approach>The Jupyter and (Einstein) scientific approach</h2><p>The foundation of each proceeding success is a proven approach. In our case a good analysis is like a good scientific paper, which normally provides these four components:</p><ol><li>Context definition</li><li>Ideas, data assumptions and simplifications</li><li>Understandable analysis</li><li>Conclusion</li></ol><p>To combine this scientific approach and writing code, you can use <a href=https://jupyter.org/>Jupyter Notebook</a> (<a href=http://nbviewer.jupyter.org/github/jupyter/notebook/blob/master/docs/source/examples/Notebook/Notebook%20Basics.ipynb>demo</a>) a notebook style IDE/dashboard which speaks different languages, like Java, Python, R, Haskell, C#, etc. and Markdown. A jupyter notebook provides the ability to define / explain via markdown (1. & 2.), write code (3.) and present your results (4.).</p><p>The procedure should now be clear, but which tool to use to extract relevant data from the source code?</p><p>For this task <a href=https://jqassistant.org/get-started/>jQAsisstant</a> (<a href=https://jqassistant.org/demo/java8/>demo</a>; <a href=https://mvnrepository.com/artifact/com.buschmais.jqassistant.scm/jqassistant-maven-plugin>maven-plugin</a>) could be an option. jQAssistant grabs information from the source code and pushes it into a graph database neo4j. This graph database (with browser frontend) gives the possibility to analyze / create <strong>subject-specific</strong> connections and <strong>adding own concepts</strong>, via query a simple query language in build or via <a href=https://neo4j.com/>Neo4j</a> browser frontend.</p><p>A possible walk-through model to get the analysis data could consist of these steps:</p><ol><li>Scan software structures</li><li>Save it to a graph database</li><li>Analyze and create subject-specific connections</li><li>Add own concepts (ordinarily the most important part to bring it into management)</li><li>Export to jupyter notebook, analyze and find the answers</li></ol><p>In the end visualize results in jupyter notebook and correct faults or convince the project manager about the technical or subject-specific debts!</p><h2 id=refactoring-to-java-10>Refactoring to Java 10</h2><ul><li><a href=https://programm.javaland.eu/2018/#/scheduledEvent/549331>Talk</a></li><li><a href=https://www.javaland.eu/formes/pubfiles/9952507/2018-nn-reinier_zwitserloot-refactoring_to_java_10-praesentation.pdf>Slides</a></li></ul><p>In the talk &ldquo;Refatoring to Java 10&rdquo; the guys of <a href=https://projectlombok.org/>Lombok</a> introduced some of their favorite upcoming Java features and showed how they can be used with Lombok in version 1.9 and earlier using thier library.</p><p>As Java 10 comes with a new version numbering scheme upcoming Java versions will be released semi-annual at fixed dates. In opposite to the past releases there are no more promises about the contained features but about the release dates. Therefore, you can&rsquo;t assign some of the following features to specific versions.</p><h3 id=var>var</h3><p>Imagine a line of code like the following one:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>()</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>As Java 10 comes with Local-Variable Type interference (var) you can reduce the previous line using the var keyword to:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>In this case the type of names would be inferred automatically and you wouldn&rsquo;t need to declare it explicitly. This way you can reduce boilerplate code.</p><p>But there are some restrictions with var. Consider something like that:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>var</span><span class=w> </span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;FOO&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>.</span><span class=na>toLowerCase</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>name</span><span class=p>.</span><span class=na>subSequence</span><span class=p>(</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>The last statement wouldn&rsquo;t work as the method <code>subSequence</code> returns a <code>CharSequence</code> but the name variable was already inferred as <code>String</code>. So it&rsquo;s not possible to change the type of a <code>var</code> as it&rsquo;s inferred only once.</p><p>Project Lombok allows the usage of <code>var</code> (local final variables) and <code>val</code> (local non-final variables) already in Java versions 1.9 and below, by adding just a simple dependency. This way you can write your applications the Java 10 way.</p><h3 id=valhalla>Valhalla</h3><p>Project Valhalla develops new Java language features focusing on memory and performance. One of those features is the so called value type which might come with Java 1.13.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>Imagine the following class representing a point:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Point</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>And an array of points like the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Point</span><span class=o>[]</span><span class=w> </span><span class=n>points</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Point</span><span class=o>[</span><span class=n>1000</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>In current Java versions the point objects within the array are stored in memory using pointers to both attributes (<code>x</code> and <code>y</code>). Therefore they need more space than the 8000 (= 1000 (#points) * 2 (#attributes: <code>x</code> and <code>y</code>) * 4 (size of <code>int</code>)) bytes you would assume. Additionally the points are stored together with metadata while they are distributed across memory which might lead to cache misses during retrieval.</p><p>With Project Valhalla you can create your own primitives using the <code>value</code> keyword. This way the class <code>Point</code> would perform like an <code>int</code> but can be coded like a class. The elements are stored without any metadata and pointers directly in a successive memory region (like C structs). The class <code>Point</code> would look like the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>value</span><span class=w> </span><span class=kd>class</span> <span class=nc>Point</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>x</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>y</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Furthermore value types&mldr;</p><ul><li>support autoboxing. This means that every Valhalla type is its own boxed (wrapped) type like Integer and int. Therefore your primitive can be used as it would extend Object.</li><li>offer a constructor and implementations for equals, toString and hashCode out of the box. All of them are based on the fields of your primitive.</li><li>offer generic specialization. This way you can use your primitives in generics. Consider a list of points for example:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Point</span><span class=o>&gt;</span><span class=w> </span><span class=n>points</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Point</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>If you want to try Valhalla types in current Java versions take a look at Lombok and the <code>@Value</code> keyword.</p><h3 id=pattern-matching>Pattern Matching</h3><p>Amber is another project which focuses on productivity. One of the features of Amber is pattern matching ,which is a pretty simple but effective boilerplate killer.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p>Everybody knows lines of code like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>obj</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>Number</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Number</span><span class=w> </span><span class=n>number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>Number</span><span class=p>)</span><span class=w> </span><span class=n>obj</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>number</span><span class=p>.</span><span class=na>doubleValue</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>With pattern matching you can do the typecast directly in the if-statement:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>obj</span><span class=w> </span><span class=k>instanceof</span><span class=w> </span><span class=n>Number</span><span class=w> </span><span class=n>number</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>number</span><span class=p>.</span><span class=na>doubleValue</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=p>...</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>You can go even further and use a switch-statement to reduce even more boilerplate code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>switch</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=n>Number</span><span class=w> </span><span class=n>number</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>number</span><span class=p>.</span><span class=na>doubleValue</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Unfortunately Lombok offers no such feature like Pattern Matching. So you have to wait until it&rsquo;s released in a upcoming version of Java.</p><p>As shown, the upcoming Java versions contain a lot of exciting features which help to reduce boilerplate code. If you&rsquo;re interested, project Lombok is worth a look!</p><h3 id=automatic-regression-test-generation-for-legacy-code>Automatic Regression Test Generation for Legacy Code</h3><ul><li><a href=https://programm.javaland.eu/2018/#/scheduledEvent/549037>Talk</a></li><li><a href=https://www.javaland.eu/formes/pubfiles/9947732/2018-nn-felix_schumacher-generierung_von_regressionstests_fuer_legacy_code-praesentation.pdf>Slides</a></li></ul><p>Ever had to work on a legacy application with zero tests? Sounds familiar? Felix Schumacher talks about his daily hassles with them and has evaluated several tools for automatic generation of unit-test producing (editable) Java code.</p><p>While automatically generated unit-tests in no way replace handwritten tests, they can serve as a good baseline to prepare and conduct initial refactorings on legacy applications. Most of the automatic test generation tools generate several thousands of unit-tests - resulting in long test run times - but dramatically fail to detect the errors introduced by a mutation test frameworks.</p><p>Only one framwork showed promising results while at the same time managing to severely limit the number of produced unit-tests: <a href=http://www.evosuite.org/>Evosuite</a></p><p>Evosuite sucessfully employs genetic algorithms to let only those unit-tests and parameters survive which really help to bring up the testcoverage.
Compared to another popular unit-test generation tool called <a href=https://randoop.github.io/randoop/>Randoop</a>, Evosuite manages to produce 66% linecoverage vs. 10%, detect 77% of mutations (generated with <a href=http://pitest.org/>PIT</a>) vs. 13% while using only 7 testcases vs. 4402 produced by randoop.
Seeing these promising numbers we are looking forward to employ and evaluate Evosuite the next time we have to deal with a legacy application</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>What Is Project Valhalla?&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Java 10 & Beyond: Diese fünf Features erwarten uns&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><div class='post_extra mb-2'><div class='share copy'></div><a href="http://twitter.com/share?text=Check out this post on the QAware Engineering Blog about JavaLand%202018&url=https%3a%2f%2fblog.qaware.de%2fposts%2fjavaland-2018%2f&hashtags=Conference%2cREST%2cSecurity%2cLegacy%2cJupyterNotebooks%2cJava%2cJava10%2cValhalla%2cPatternMatching%2cTesting%2cRegressionTesting"><div class='share twitter'></div></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fblog.qaware.de%2fposts%2fjavaland-2018%2f"><div class='share linkedin'></div></a><a href="mailto:?subject=JavaLand%202018&amp;body=Hi,%0D%0A%0D%0ACheck out this post on the QAware Engineering Blog: https%3a%2f%2fblog.qaware.de%2fposts%2fjavaland-2018%2f%0D%0A%0D%0ABest Regards"><div class='share email'></div></a></div><div></div></div></div></div><a href=https://blog.qaware.de/ class=post_nav><span class=post_next>The Latest Posts</span></a></main><footer><div class=footer-container><div class=short-link-area><div class=margin><div class=logo-qaware><a href=/><img src=/images/icons/logo-qaware-white.png alt=QAware width=195 height=43></a></div><div class=clr></div><div class=footer-links><a href=https://www.qaware.de/en/category/news-en/ class=foot-single-link>News</a>
<a href=https://www.qaware.de/en/contact/ class=foot-single-link>Contact</a><div class=footer-table><a href=https://www.qaware.de/en/imprint/ class="foot-single-link footer-table-cell">Imprint</a>&nbsp;|&nbsp;
<a href=https://www.qaware.de/en/data-privacy/ class="foot-single-link footer-table-cell">Data Privacy</a></div></div><nav class=nav-social><ul class=e-social id=c1375><li><a href=http://www.kununu.com/qaware title=Kununu target=_blank class="icon icon-kununu-outline"><span></span></a></li><li><a href=https://www.linkedin.com/company/qaware-gmbh title=LinkedIn target=_blank class="icon icon-linkedin-outline"><span></span></a></li><li><a href=https://github.com/qaware title=GitHub target=_blank class="icon icon-git-outline"><span></span></a></li><li><a href=https://www.slideshare.net/qaware title=SlideShare target=_blank class="icon icon-slideshare-outline"><span></span></a></li><li><a href=https://www.youtube.com/channel/UCmNf72xADnO57idipq9jvMg title=Youtube target=_blank class="icon icon-youtube-outline"><span></span></a></li></ul></nav><div class=clr></div></div></div><nav class="footer-nav nav-area"><ul class=margin><li><a href=https://www.qaware.de/en/services/product-discovery/>Services</a></li><li><a href=https://www.qaware.de/en/company/about-us/>Company</a></li><li><a href=https://www.qaware.de/en/career/>Career</a></li></ul></nav></div></footer><script src=https://blog.qaware.de/js/index.min.791bb653c336adab277d58e8a52b9e81250276bb14f8fced435ae89f02d3155ae233664425075d8cb7ef5444d08a4a2276ee6bf16082d57c12c85f010e25412a.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-45534590-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-45534590-1")</script></body></html>